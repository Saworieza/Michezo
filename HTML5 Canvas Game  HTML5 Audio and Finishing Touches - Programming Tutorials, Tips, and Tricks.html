<!DOCTYPE html>
<!-- saved from url=(0078)http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/ -->
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" type="text/css" href="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/bY1LCoAwDEQvJMTexQvUJtTYL01EenvFhQvtamZ4D8bATlqtC5AKHpEE5FjFNa7KJX_WNIOEaNNKTZeNEoGTW9EeaYxqY0mT-X2cjJ70zYEhm22EFrE_lbO_AA.css" media="all"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@StevenKLambert"><meta name="twitter:creator" content="@StevenKLambert"><meta name="twitter:title" content="HTML5 Canvas Game: HTML5 Audio and Finishing Touches"><meta name="twitter:description" content="In the fourth tutorial of in this series, we&#39;ll be finishing up the game by adding details such as player score, a game over screen, and HTML5 audio."><meta name="twitter:image:src" content="http://blog.sklambert.com/wp-content/uploads/2013/01/collision_detection.png"><title>HTML5 Canvas Game: HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks</title><link rel="icon" type="image/ico" href="http://blog.sklambert.com/wp-content/themes/sklambertTheme/imgs/favicon.ico"><meta name="description" content="In the fourth tutorial of in this series, we&#39;ll be finishing up the game by adding details such as player score, a game over screen, and HTML5 audio."><link rel="canonical" href="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks.html"> <script src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/cb=gapi.loaded_1" async=""></script><script src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript" async="" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/plusone.js" gapi_processed="true"></script><script type="text/javascript" async="" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/ga.js"></script><script type="text/javascript" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/M9bPKixNLarUMYYydHMz04sSS1L1cjPzAA.js"></script><link rel="shortlink" href="http://wp.me/p2qsZ3-ee"><script type="text/javascript">/*<![CDATA[*/function external_links_in_new_windows_loop(){if(!document.links){document.links=document.getElementsByTagName('a');}
var change_link=false;var force='';var ignore='';for(var t=0;t<document.links.length;t++){var all_links=document.links[t];change_link=false;if(document.links[t].hasAttribute('onClick')==false){if(all_links.href.search(/^http/)!=-1&&all_links.href.search('blog.sklambert.com')==-1){change_link=true;}
if(force!=''&&all_links.href.search(force)!=-1){change_link=true;}
if(ignore!=''&&all_links.href.search(ignore)!=-1){change_link=false;}
if(change_link==true){document.links[t].setAttribute('onClick','javascript:window.open(\''+all_links.href+'\'); return false;');document.links[t].removeAttribute('target');}}}}
function external_links_in_new_windows_load(func)
{var oldonload=window.onload;if(typeof window.onload!='function'){window.onload=func;}else{window.onload=function(){oldonload();func();}}}
external_links_in_new_windows_load(external_links_in_new_windows_loop);/*]]>*/</script><script type="text/javascript">window._zem_rp_blog_id='6970965';window._zem_rp_post_id='882';window._zem_rp_thumbnails=true;window._zem_rp_post_title='HTML5+Canvas+Game%3A+HTML5+Audio+and+Finishing+Touches';window._zem_rp_post_tags=['galaxian','game+development','html5','javascript','tutorial','tutorials','shooter','infinit','game','screen','audio','tutori','fire','html','html5','style','canva','thea','finish','arrow','laser'];window._zem_rp_static_base_url='http://content.zemanta.com/static/';window._zem_rp_wp_ajax_url='http://blog.sklambert.com/wp-admin/admin-ajax.php';window._zem_rp_plugin_version='1.8.1';window._zem_rp_num_rel_posts='5';window._zem_rp_remote_recommendations=false;</script><script type="text/javascript" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/pageview.js" async=""></script><link rel="stylesheet" href="http://blog.sklambert.com/wp-content/plugins/related-posts-by-zemanta/static/themes/vertical-m.css?version=1.8.1"><style type="text/css">img#wpstats{display:none}</style><script type="text/javascript">var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-32599230-1']);_gaq.push(['_setDomainName','sklambert.com']);_gaq.push(['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();</script><script async="" type="text/javascript" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/count.js"></script><script async="" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/count-data.js"></script></head><body class="single single-post postid-882 single-format-standard"> <header class="site-header" role="banner"><div class="container"> <section class="header-group"> <a class="logo" href="http://blog.sklambert.com/" rel="home"> <span class="assistive-text">HTML5 Gamer</span> </a><h1 class="site-title"><a class="title-link" href="http://blog.sklambert.com/" rel="home">HTML5 Gamer</a></h1><p class="site-description"><a class="title-link" href="http://blog.sklambert.com/" rel="home">JavaScript and HTML5 Game Development</a></p> </section><form method="get" class="search-form" action="http://blog.sklambert.com/" role="search"> <label for="s" class="assistive-text">Search</label> <input type="text" class="search-input" name="s" value="" id="s" placeholder="Search …"> <button type="submit" class="icon-search search-submit" value=""></button></form></div> </header> <nav class="site-navigation" role="navigation"><div class="container"><h1 class="assistive-text">Menu</h1> <a href="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/#content" class="assistive-text skip-link" title="Skip to main content">Skip to main content</a><div class="mobile-menus mobile-memu-container"> <a id="toggle-menu" href="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/#" class="mobile-menu">☰ Menu</a></div><div class="menu-master-container"><ul id="menu-master" class="menu"><li id="menu-item-253" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-253"><a class="menu-link" href="http://blog.sklambert.com/">Home</a></li><li id="menu-item-1310" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1310"><a class="menu-link" href="http://blog.sklambert.com/category/articles/">Articles</a></li><li id="menu-item-1311" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1311"><a class="menu-link" href="http://blog.sklambert.com/category/tutorials/">Tutorials</a></li><li id="menu-item-1507" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1507"><a class="menu-link" href="http://blog.sklambert.com/games/">Games</a></li><li id="menu-item-777" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-777"><a class="menu-link" href="http://blog.sklambert.com/jetpack-post-views/">WP Plugins</a></li><li id="menu-item-1312" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1312"><a class="menu-link" href="http://blog.sklambert.com/archives/">Archives</a></li></ul></div><div class="mobile-menus mobile-search-container"> <a id="toggle-search" href="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/#" class="mobile-search icon-search">&nbsp;</a></div></div> </nav> <main role="main"> <section id="content" class="main"> <article id="post-882" class="post-882 post type-post status-publish format-standard hentry category-tutorials tag-galaxian tag-game-development tag-html5 tag-javascript tag-tutorial entry-content"> <header class="entry-header"><h1 class="entry-title">HTML5 Canvas Game: HTML5 Audio and Finishing Touches</h1><div class="entry-meta"><time class="entry-date icon-calendar" datetime="2013-02-02T13:19:20+00:00" pubdate="">February 2, 2013</time><span class="entry-categories icon-folder"><a href="http://blog.sklambert.com/category/tutorials/" title="View all posts in Tutorials" rel="category tag">Tutorials</a></span><span class="entry-tags icon-tags"><a href="http://blog.sklambert.com/tag/galaxian/" rel="tag">Galaxian</a>, <a href="http://blog.sklambert.com/tag/game-development/" rel="tag">Game Development</a>, <a href="http://blog.sklambert.com/tag/html5/" rel="tag">HTML5</a>, <a href="http://blog.sklambert.com/tag/javascript/" rel="tag">JavaScript</a>, <a href="http://blog.sklambert.com/tag/tutorial/" rel="tag">Tutorial</a></span><span class="entry-comments icon-bubbles"><a href="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/#disqus_thread" title="Comment on HTML5 Canvas Game: HTML5 Audio and Finishing Touches" data-disqus-identifier="882 http://blog.sklambert.com/?p=882">31 Comments</a></span></div> </header><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-official sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><div class="twitter_button"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/tweet_button.html" style="width:101px; height:20px;"></iframe></div></li><li class="share-google-plus-1"><div class="googleplus1_button"><div id="___plus_0" style="text-indent: 0px; margin: 0px; padding: 0px; background-color: transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 82px; height: 20px; background-position: initial initial; background-repeat: initial initial;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 82px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I0_1399294333253" name="I0_1399294333253" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/sharebutton.html" data-gapiattached="true" title="+Share"></iframe></div></div></li><li class="share-facebook"><div class="like_button"><iframe src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/like.html" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:96px; height:21px;" allowtransparency="true"></iframe></div></li><li class="share-end"></li></ul></div></div></div><div class="featured-image"></div><meta name="description" content="In the fourth tutorial of in this series, we&#39;ll be finishing up the game by adding details such as player score, a game over screen, and HTML5 audio."><div class="series-next-prev-wrapper top"><div class="series-prev"> <a href="http://blog.sklambert.com/html5-canvas-game-2d-collision-detection/" title="HTML5 Canvas Game: 2D Collision Detection" class="series-prev-link">« Previous series post</a></div></div><p><img alt="Enemies being shot out of space with lasers." src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/collision_detection.png" width="300" height="180"></p><p>In the&nbsp;fifth&nbsp;and final tutorial of the&nbsp;<a href="http://blog.sklambert.com/galaxian-html5-game/">Galaxian Style HTML5 game</a>&nbsp;series, we’ll be finishing up the game by adding details such as player score, a game over screen, infinite enemy waves, and HTML5 audio. We’ll also discuss things you can do on your own to improve the game.</p><p><span id="more-882"></span></p><p>Difficulty: Medium<br> Languages:&nbsp;<abbr>HTML5</abbr>, JavaScript<br> Code:&nbsp;<a href="https://github.com/straker/galaxian-canvas-game/tree/master/part5" onclick="javascript:window.open(&#39;https://github.com/straker/galaxian-canvas-game/tree/master/part5&#39;); return false;">https://github.com/straker/galaxian-canvas-game/tree/master/part5</a></p><h2 id="part" class="sub-title"><a href="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/#part" class="permalink" title="Link to this section">Part 5</a></h2><p>We’ll begin by seeing the final result of this tutorial. Make sure you click inside the game if the controls aren’t working.<br> Controls: Move – Arrow keys (←↑↓→)<br> Shoot – Spacebar</p><p><iframe src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/space_shooter_part_five.html" height="410" width="650"></iframe></p><p>The game now has sound (in the background, when you fire a laser, when you hit an enemy, and when you die) and keeps track of your score. It will also let you restart the game if you get hit and spawn another wave of enemies when you kill the last one on the screen.</p><h3 id="the-html-page" class="sub-title"><a href="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/#the-html-page" class="permalink" title="Link to this section">The HTML5 Page</a></h3><p>We’ll start out this tutorial by adding the player score and the game over screen. Both are done by modifying the HTML page.</p><div class="code-block"><pre class=" language-markup"><code class=" language-markup"><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Space Shooter Demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
		<span class="token style"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span>
			<span class="token selector">canvas </span><span class="token punctuation">{</span>
				<span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
				<span class="token property">top</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
				<span class="token property">left</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
				<span class="token property">background</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token selector">#background </span><span class="token punctuation">{</span>
				<span class="token property">z-index</span><span class="token punctuation">:</span> -2<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token selector">#main </span><span class="token punctuation">{</span>
				<span class="token property">z-index</span><span class="token punctuation">:</span> -1<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token selector">#ship </span><span class="token punctuation">{</span>
				<span class="token property">z-index</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token selector">.score </span><span class="token punctuation">{</span>
				<span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
				<span class="token property">top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
				<span class="token property">left</span><span class="token punctuation">:</span> 480px<span class="token punctuation">;</span>
				<span class="token property">color</span><span class="token punctuation">:</span> #FF7F00<span class="token punctuation">;</span>
				<span class="token property">font-family</span><span class="token punctuation">:</span> Helvetica, sans-serif<span class="token punctuation">;</span>
				<span class="token property">cursor</span><span class="token punctuation">:</span> default<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token selector">.game-over </span><span class="token punctuation">{</span>
				<span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
				<span class="token property">top</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
				<span class="token property">left</span><span class="token punctuation">:</span> 210px<span class="token punctuation">;</span>
				<span class="token property">color</span><span class="token punctuation">:</span> #FF7F00<span class="token punctuation">;</span>
				<span class="token property">font-family</span><span class="token punctuation">:</span> Helvetica, sans-serif<span class="token punctuation">;</span>
				<span class="token property">font-size</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
				<span class="token property">cursor</span><span class="token punctuation">:</span> default<span class="token punctuation">;</span>
				<span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token selector">.game-over span </span><span class="token punctuation">{</span>
				<span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
				<span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
				<span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
				<span class="token property">left</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token selector">.game-over span:hover </span><span class="token punctuation">{</span>
				<span class="token property">color</span><span class="token punctuation">:</span> #FFD700<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
		&lt;!– The canvas for the panning background –&gt;
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>background<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>360<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
			Your browser does not support canvas. Please try again with a different browser.
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
		&lt;!– The canvas for all enemy ships and bullets –&gt;
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>main<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>360<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
		&lt;!– The canvas the ship uses (can only move up
         one forth the screen. –&gt;
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ship<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>360<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>score<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>SCORE: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>score<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>game-over<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>game-over<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>GAME OVER<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>game.restart()<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Restart<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token script"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>space_shooter_part_five.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>We add two new divs underneath the canvas, one for displaying the players score and the other for displaying the game over screen. We also add new styles to position these elements in their correct locations on the screen and make them look nice.</p><h3 id="the-player-score" class="sub-title"><a href="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/#the-player-score" class="permalink" title="Link to this section">The Player Score</a></h3><p>To implement the player score, we add a variable in the <code>Game</code> object and modify the <code>draw()</code> function of the <code>Enemy</code> object to add points to the score whenever the ship is colliding.</p><div class="code-block"><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">Game<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   this<span class="token punctuation">.</span>init <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      …
      this<span class="token punctuation">.</span>playerScore <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      …
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Enemy<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   …
   this<span class="token punctuation">.</span>draw <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		…
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>this<span class="token punctuation">.</span>isColliding<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			this<span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">drawImage<span class="token punctuation">(</span></span>imageRepository<span class="token punctuation">.</span>enemy<span class="token punctuation">,</span> this<span class="token punctuation">.</span>x<span class="token punctuation">,</span> this<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment" spellcheck="true">	// Enemy has a chance to shoot every movement
</span>			chance <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor<span class="token punctuation">(</span></span>Math<span class="token punctuation">.</span><span class="token function">random<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>chance<span class="token operator">/</span><span class="token number">100</span> <span class="token operator">&lt;</span> percentFire<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				this<span class="token punctuation">.</span><span class="token function">fire<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
</code><p><code class=" language-javascript">			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token punctuation">{</span>
			game<span class="token punctuation">.</span>playerScore <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></p></pre></div><p>We then display the score in the <code>animate()</code> function.</p><div class="code-block"><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">animate<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   document<span class="token punctuation">.</span><span class="token function">getElementById<span class="token punctuation">(</span></span>‘score’<span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> game<span class="token punctuation">.</span>playerScore<span class="token punctuation">;</span>
   …
</code></pre></div><h3 id="html-game-audio-the-basics" class="sub-title"><a href="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/#html-game-audio-the-basics" class="permalink" title="Link to this section">HTML5 Game Audio – The Basics</a></h3><p>We’ll next implement audio in our game. To do this, we’ll be using the HTML5 Audio API to add game sounds. The&nbsp;<a href="http://html5doctor.com/html5-audio-the-state-of-play/" onclick="javascript:window.open(&#39;http://html5doctor.com/html5-audio-the-state-of-play/&#39;); return false;">HTML5 Audio</a>&nbsp;API is still a bit funky when it comes to how it implements things. Because of this, we’ll be doing some ‘hackish’ style coding to make everything work properly.</p><p>There are two things you should be aware of when using the HTML5 Audio API for game sound.</p><p>The first thing you should know is that there is no good way to tell if an sound is fully loaded and ready to play. The API has a good list of <a href="http://www.w3schools.com/tags/ref_av_dom.asp" onclick="javascript:window.open(&#39;http://www.w3schools.com/tags/ref_av_dom.asp&#39;); return false;">events it can detect</a>, but not even <code>canplaythrough</code>&nbsp;works properly. Instead, we’ll be using a timed interval to check the <code>readyState</code> of the Audio to ensure that it is ready to play. If the <code>readyState</code>&nbsp;of the Audio is 0 and you try to set the audio’s&nbsp;<code>currentTime</code>, you will get a DOM exception. So we need to ensure that the <code>readyState</code>&nbsp;is 4 before we do anything.</p><p>The second thing to be aware of is using the HTML5 Audio API for sound effects. If you want to have overlapping sounds (such as the laser sound for firing), each sound must be its own Audio element. This is because each sound has to play&nbsp;independently&nbsp;from all the others. There are a few ways to <a href="http://stackoverflow.com/questions/4728352/play-multiple-instances-of-an-html5s-audio-object" onclick="javascript:window.open(&#39;http://stackoverflow.com/questions/4728352/play-multiple-instances-of-an-html5s-audio-object&#39;); return false;">accomplish sound effects</a>, but all of them have the same drawback: every new Audio element has to download the audio source! At the time of writing this article, I have yet to find a good way to have one audio source play multiple instances without downloading&nbsp;the audio source again.</p><p>Since using <code>Audio.cloneNode(true)</code> would result in downloading the audio, we will use the same technique we used for solving creating and deleting objects: an object pool (in this case a sound pool). We will load multiple sound objects into an array and then reuse them, ensuring we don’t download the source audio every time and instead download it a few times at the start of the game. This method may not be the best way to go about handling this problem, but we already have the code to reuse and it saves HTTP requests in the long run. If you know of a better way to handle this, please let me know in the comments.</p><h3 id="adding-html-audio" class="sub-title"><a href="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/#adding-html-audio" class="permalink" title="Link to this section">Adding HTML5 Audio</a></h3><p>To add HTML5 audio to the game, we’ll start by creating the sound pool. It’s very similar to our object pool, but needs to be slightly modified for handling sound.</p><div class="code-block"><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment" spellcheck="true">/**
 * A sound pool to use for the sound effects
 */</span>
<span class="token keyword">function</span> <span class="token function">SoundPool<span class="token punctuation">(</span></span>maxSize<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> size <span class="token operator">=</span> maxSize<span class="token punctuation">;</span><span class="token comment" spellcheck="true"> // Max sounds allowed in the pool
</span>	<span class="token keyword">var</span> pool <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	this<span class="token punctuation">.</span>pool <span class="token operator">=</span> pool<span class="token punctuation">;</span>
	<span class="token keyword">var</span> currSound <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">/*
	 * Populates the pool array with the given sound
	 */</span>
	this<span class="token punctuation">.</span>init <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token operator">==</span> <span class="token string">"laser"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment" spellcheck="true">	// Initalize the sound
</span>				laser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span><span class="token string">"sounds/laser.wav"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				laser<span class="token punctuation">.</span>volume <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token number">12</span><span class="token punctuation">;</span>
				laser<span class="token punctuation">.</span><span class="token function">load<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				pool<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> laser<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token operator">==</span> <span class="token string">"explosion"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> explosion <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span><span class="token string">"sounds/explosion.wav"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				explosion<span class="token punctuation">.</span>volume <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token number">1</span><span class="token punctuation">;</span>
				explosion<span class="token punctuation">.</span><span class="token function">load<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				pool<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> explosion<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code><p><code class=" language-javascript">	<span class="token comment" spellcheck="true">/*
	 * Plays a sound
	 */</span>
	this<span class="token punctuation">.</span>get <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>pool<span class="token punctuation">[</span>currSound<span class="token punctuation">]</span><span class="token punctuation">.</span>currentTime <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> pool<span class="token punctuation">[</span>currSound<span class="token punctuation">]</span><span class="token punctuation">.</span>ended<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			pool<span class="token punctuation">[</span>currSound<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">play<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		currSound <span class="token operator">=</span> <span class="token punctuation">(</span>currSound <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> size<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></p></pre></div><p>The sound pool is different from the object pool that we used for game objects in that it doesn’t need to push and pop the sounds from the array. An audio element will play until the end of the track, then set its <code>ended</code> state to true. Therefore we can just loop over the array of sounds, playing it only if it’s <code>currentTime = 0</code> or if it has ended. We just need to make sure that we have enough sound objects in the pool that we never run into the problem of not being able to play a sound. Calling the <code>load()</code> function of an Audio element tells the browser to load the audio file (helps with older browsers).</p><p>With the sound pool ready, We can now add the game audio to our <code>Game</code> object.</p><div class="code-block"><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">Game<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   this<span class="token punctuation">.</span>init <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      …
     <span class="token comment" spellcheck="true"> // Audio files
</span>			this<span class="token punctuation">.</span>laser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SoundPool</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			this<span class="token punctuation">.</span>laser<span class="token punctuation">.</span><span class="token function">init<span class="token punctuation">(</span></span><span class="token string">"laser"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			this<span class="token punctuation">.</span>explosion <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SoundPool</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			this<span class="token punctuation">.</span>explosion<span class="token punctuation">.</span><span class="token function">init<span class="token punctuation">(</span></span><span class="token string">"explosion"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			this<span class="token punctuation">.</span>backgroundAudio <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span><span class="token string">"sounds/kick_shock.wav"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			this<span class="token punctuation">.</span>backgroundAudio<span class="token punctuation">.</span>loop <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			this<span class="token punctuation">.</span>backgroundAudio<span class="token punctuation">.</span>volume <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token number">25</span><span class="token punctuation">;</span>
			this<span class="token punctuation">.</span>backgroundAudio<span class="token punctuation">.</span><span class="token function">load<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			this<span class="token punctuation">.</span>gameOverAudio <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span><span class="token string">"sounds/game_over.wav"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			this<span class="token punctuation">.</span>gameOverAudio<span class="token punctuation">.</span>loop <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			this<span class="token punctuation">.</span>gameOverAudio<span class="token punctuation">.</span>volume <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token number">25</span><span class="token punctuation">;</span>
			this<span class="token punctuation">.</span>gameOverAudio<span class="token punctuation">.</span><span class="token function">load<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><p><code class=" language-javascript">			this<span class="token punctuation">.</span>checkAudio <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">setInterval<span class="token punctuation">(</span></span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">checkReadyState<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></p></pre></div><p>The <code>init()</code> function now sets up the audio objects that we need for lasers, explosions, and background audios for the game and game over screen. The <code>loop</code> flag tells the Audio element to play over when it has finished (creating an infinite sound loop). Ten laser sounds is sufficient with our current fire rate of the ship. If you increase the fire rate of the ship, be sure to add more lasers to the sound pool. Since the ship can fire two lasers at a time, we will add twice as many explosion sounds than laser sounds to the sound pool.</p><p>To ensure that the game sounds have fully loaded to avoid DOM&nbsp;exception&nbsp;errors, we create a timed interval to check the ready state of our biggest audio files: game_over.wav and kick_shock.wav.</p><div class="code-block"><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment" spellcheck="true">/**
 * Ensure the game sound has loaded before starting the game
 */</span>
<span class="token keyword">function</span> <span class="token function">checkReadyState<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>game<span class="token punctuation">.</span>gameOverAudio<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> game<span class="token punctuation">.</span>backgroundAudio<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		window<span class="token punctuation">.</span><span class="token function">clearInterval<span class="token punctuation">(</span></span>game<span class="token punctuation">.</span>checkAudio<span class="token punctuation">)</span><span class="token punctuation">;</span>
		game<span class="token punctuation">.</span><span class="token function">start<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>By adding this time interval, we can check the readyState of both HTML5 audio elements and only start the game if they are fully loaded. This means we need to remove the <code>game.start()</code> call from the <code>init()</code> function.</p><div class="code-block"><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">init<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	game<span class="token punctuation">.</span><span class="token function">init<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>We can now add sound to our game in their proper places: firing a laser and hitting an enemy.</p><div class="code-block"><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">Ship<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   …
<span class="token comment" spellcheck="true">/*
	 * Fires two bullets
	 */</span>
	this<span class="token punctuation">.</span>fire <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		this<span class="token punctuation">.</span>bulletPool<span class="token punctuation">.</span><span class="token function">getTwo<span class="token punctuation">(</span></span>this<span class="token punctuation">.</span>x<span class="token operator">+</span><span class="token number">6</span><span class="token punctuation">,</span> this<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span>
		                       this<span class="token punctuation">.</span>x<span class="token operator">+</span><span class="token number">33</span><span class="token punctuation">,</span> this<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		game<span class="token punctuation">.</span>laser<span class="token punctuation">.</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Enemy<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   …
   this<span class="token punctuation">.</span>draw <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      …
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>this<span class="token punctuation">.</span>isColliding<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			this<span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">drawImage<span class="token punctuation">(</span></span>imageRepository<span class="token punctuation">.</span>enemy<span class="token punctuation">,</span> this<span class="token punctuation">.</span>x<span class="token punctuation">,</span> this<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment" spellcheck="true">	// Enemy has a chance to shoot every movement
</span>			chance <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor<span class="token punctuation">(</span></span>Math<span class="token punctuation">.</span><span class="token function">random<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>chance<span class="token operator">/</span><span class="token number">100</span> <span class="token operator">&lt;</span> percentFire<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				this<span class="token punctuation">.</span><span class="token function">fire<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
</code><p><code class=" language-javascript">			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token punctuation">{</span>
			game<span class="token punctuation">.</span>playerScore <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
			game<span class="token punctuation">.</span>explosion<span class="token punctuation">.</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></p></pre></div><p>Now every time that we fire or hit an enemy, the game will play the appropriate sound effect. To play the background sound, we add it to the <code>start()</code> function of the Game object.</p><div class="code-block"><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment" spellcheck="true">// Start the animation loop
</span>	this<span class="token punctuation">.</span>start <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		this<span class="token punctuation">.</span>ship<span class="token punctuation">.</span><span class="token function">draw<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span>backgroundAudio<span class="token punctuation">.</span><span class="token function">play<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">animate<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="finishing-touches" class="sub-title"><a href="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/#finishing-touches" class="permalink" title="Link to this section">Finishing Touches</a></h3><p>To make the game more challenging, we will add infinite waves to the game. To do this, we move the code to initialize the enemy pool object in the <code>Game</code> object into its own function and call it each time we want to spawn a new wave.</p><div class="code-block"><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">Game<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
this<span class="token punctuation">.</span>init <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
…<span class="token comment" spellcheck="true">
// Initialize the enemy pool object
</span>			this<span class="token punctuation">.</span>enemyPool <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pool</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			this<span class="token punctuation">.</span>enemyPool<span class="token punctuation">.</span><span class="token function">init<span class="token punctuation">(</span></span><span class="token string">"enemy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			this<span class="token punctuation">.</span><span class="token function">spawnWave<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
…
<span class="token punctuation">}</span>
</code><p><code class=" language-javascript"><span class="token comment" spellcheck="true">// Spawn a new wave of enemies
</span>	this<span class="token punctuation">.</span>spawnWave <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> height <span class="token operator">=</span> imageRepository<span class="token punctuation">.</span>enemy<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
		<span class="token keyword">var</span> width <span class="token operator">=</span> imageRepository<span class="token punctuation">.</span>enemy<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
		<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
		<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token operator">-</span>height<span class="token punctuation">;</span>
		<span class="token keyword">var</span> spacer <span class="token operator">=</span> y <span class="token operator">*</span> <span class="token number">1.5</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">18</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			this<span class="token punctuation">.</span>enemyPool<span class="token punctuation">.</span><span class="token function">get<span class="token punctuation">(</span></span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			x <span class="token operator">+</span><span class="token operator">=</span> width <span class="token operator">+</span> <span class="token number">25</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">6</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				x <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
				y <span class="token operator">+</span><span class="token operator">=</span> spacer
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></p></pre></div><p>Then inside the animate loop, we check to see if there are no more enemies and spawn a new wave if there isn’t.</p><div class="code-block"><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">animate<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
…<span class="token comment" spellcheck="true">
// No more enemies
</span>	<span class="token keyword">if</span> <span class="token punctuation">(</span>game<span class="token punctuation">.</span>enemyPool<span class="token punctuation">.</span><span class="token function">getPool<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		game<span class="token punctuation">.</span><span class="token function">spawnWave<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p>The last thing to implement is the game over and restart functionality. When the player dies, we want the text “Game Over” to appear on the screen, the game to stop playing, and the ability for the player to restart the game from the beginning. To do this, we will create two new functions in the <code>Game</code> object: <code>gameOver()</code> and <code>restart()</code>.</p><div class="code-block"><pre class=" language-javascript"><code class=" language-javascript"><span class="token comment" spellcheck="true">	// Game over
</span>	this<span class="token punctuation">.</span>gameOver <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		this<span class="token punctuation">.</span>backgroundAudio<span class="token punctuation">.</span><span class="token function">pause<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span>gameOverAudio<span class="token punctuation">.</span>currentTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span>gameOverAudio<span class="token punctuation">.</span><span class="token function">play<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		document<span class="token punctuation">.</span><span class="token function">getElementById<span class="token punctuation">(</span></span>‘game<span class="token operator">-</span>over’<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">
// Restart the game
</span>	this<span class="token punctuation">.</span>restart <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		this<span class="token punctuation">.</span>gameOverAudio<span class="token punctuation">.</span><span class="token function">pause<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		document<span class="token punctuation">.</span><span class="token function">getElementById<span class="token punctuation">(</span></span>‘game<span class="token operator">-</span>over’<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span>bgContext<span class="token punctuation">.</span><span class="token function">clearRect<span class="token punctuation">(</span></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> this<span class="token punctuation">.</span>bgCanvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> this<span class="token punctuation">.</span>bgCanvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span>shipContext<span class="token punctuation">.</span><span class="token function">clearRect<span class="token punctuation">(</span></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> this<span class="token punctuation">.</span>shipCanvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> this<span class="token punctuation">.</span>shipCanvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span>mainContext<span class="token punctuation">.</span><span class="token function">clearRect<span class="token punctuation">(</span></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> this<span class="token punctuation">.</span>mainCanvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> this<span class="token punctuation">.</span>mainCanvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span>quadTree<span class="token punctuation">.</span><span class="token function">clear<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span>background<span class="token punctuation">.</span><span class="token function">init<span class="token punctuation">(</span></span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span>ship<span class="token punctuation">.</span><span class="token function">init<span class="token punctuation">(</span></span>this<span class="token punctuation">.</span>shipStartX<span class="token punctuation">,</span> this<span class="token punctuation">.</span>shipStartY<span class="token punctuation">,</span>
		               imageRepository<span class="token punctuation">.</span>spaceship<span class="token punctuation">.</span>width<span class="token punctuation">,</span> imageRepository<span class="token punctuation">.</span>spaceship<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span>enemyPool<span class="token punctuation">.</span><span class="token function">init<span class="token punctuation">(</span></span><span class="token string">"enemy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span><span class="token function">spawnWave<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span>enemyBulletPool<span class="token punctuation">.</span><span class="token function">init<span class="token punctuation">(</span></span><span class="token string">"enemyBullet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span>playerScore <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span>backgroundAudio<span class="token punctuation">.</span>currentTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		this<span class="token punctuation">.</span>backgroundAudio<span class="token punctuation">.</span><span class="token function">play<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><p><code class=" language-javascript">		this<span class="token punctuation">.</span><span class="token function">start<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></p></pre></div><p>The <code>gameOver()</code> function just stops the background audio from playing and starts the game over audio, as well as displays the game over text we hid. The <code>restart()</code> function just takes all game elements back to their initial state and starts the game over again.</p><p>To stop the game from playing in when the player gets hit, we just add a condition in the animate loop to not recall it if the player is no longer alive.</p><div class="code-block"><pre class=" language-javascript"><code class=" language-javascript"><span class="token keyword">function</span> <span class="token function">animate<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	document<span class="token punctuation">.</span><span class="token function">getElementById<span class="token punctuation">(</span></span>‘score’<span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> game<span class="token punctuation">.</span>playerScore<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">	// Insert objects into quadtree
</span>	game<span class="token punctuation">.</span>quadTree<span class="token punctuation">.</span><span class="token function">clear<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	game<span class="token punctuation">.</span>quadTree<span class="token punctuation">.</span><span class="token function">insert<span class="token punctuation">(</span></span>game<span class="token punctuation">.</span>ship<span class="token punctuation">)</span><span class="token punctuation">;</span>
	game<span class="token punctuation">.</span>quadTree<span class="token punctuation">.</span><span class="token function">insert<span class="token punctuation">(</span></span>game<span class="token punctuation">.</span>ship<span class="token punctuation">.</span>bulletPool<span class="token punctuation">.</span><span class="token function">getPool<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	game<span class="token punctuation">.</span>quadTree<span class="token punctuation">.</span><span class="token function">insert<span class="token punctuation">(</span></span>game<span class="token punctuation">.</span>enemyPool<span class="token punctuation">.</span><span class="token function">getPool<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	game<span class="token punctuation">.</span>quadTree<span class="token punctuation">.</span><span class="token function">insert<span class="token punctuation">(</span></span>game<span class="token punctuation">.</span>enemyBulletPool<span class="token punctuation">.</span><span class="token function">getPool<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">detectCollision<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">	// No more enemies
</span>	<span class="token keyword">if</span> <span class="token punctuation">(</span>game<span class="token punctuation">.</span>enemyPool<span class="token punctuation">.</span><span class="token function">getPool<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		game<span class="token punctuation">.</span><span class="token function">spawnWave<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">	// Animate game objects
</span>	<span class="token keyword">if</span> <span class="token punctuation">(</span>game<span class="token punctuation">.</span>ship<span class="token punctuation">.</span>alive<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">requestAnimFrame<span class="token punctuation">(</span></span> animate <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><p><code class=" language-javascript">		game<span class="token punctuation">.</span>background<span class="token punctuation">.</span><span class="token function">draw<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		game<span class="token punctuation">.</span>ship<span class="token punctuation">.</span><span class="token function">move<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		game<span class="token punctuation">.</span>ship<span class="token punctuation">.</span>bulletPool<span class="token punctuation">.</span><span class="token function">animate<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		game<span class="token punctuation">.</span>enemyPool<span class="token punctuation">.</span><span class="token function">animate<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		game<span class="token punctuation">.</span>enemyBulletPool<span class="token punctuation">.</span><span class="token function">animate<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></p></pre></div><p>We now how a fully functional game that has sound, collision detection, movement, and a game over screen!</p><h2 id="expanding-the-game" class="sub-title"><a href="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/#expanding-the-game" class="permalink" title="Link to this section">Expanding the game</a></h2><p>The last thing I want to discuss in this tutorial are ways in which you could expand upon this game. There are many things you could do, and which I encourage you to do, to make the game better and more complete (after all, only 1 spawn is not what we could call a “game”). Below is a list of things you could do to improve the game and expand it.</p><ul><li><span style="line-height: 13px;">Add hitboxes to the player ship and enemy ships – you may have already noticed, but the current implementation allows the player to get hit above the wings because the bounding box test checks the whole image sprite size. To make collision detection better, add a hit box around the player ship and enemy ship that is smaller than the sprite size and more closely represents the size of the objects.</span></li><li>Add more enemy types – this goes without saying, but adding more enemies to the game will make it more interesting.</li><li>Add bosses and levels – make the game longer and more difficult by adding multiple levels with bosses at the end of each level.</li><li>Add explosion and particle effects – the enemy ships just disappear from the screen when they are hit. Adding an explosion and particle effects when they are hit will make the game that much better.</li><li>Add a&nbsp;<a href="http://en.wikipedia.org/wiki/Parallax_scrolling" onclick="javascript:window.open(&#39;http://en.wikipedia.org/wiki/Parallax_scrolling&#39;); return false;">parallax scrolling</a> background – this is probably the&nbsp;easiest item to add, but adds so much to the game. By just making two backgrounds scroll at different speeds is an amazing effect for any game. Just look at what I did for my <a href="http://blog.sklambert.com/gamejam-2012-update/">Game Jam game</a> to see what I mean.</li><li>Add more weapons and power-ups – what’s a <a href="http://en.wikipedia.org/wiki/Shoot_%27em_up" onclick="javascript:window.open(&#39;http://en.wikipedia.org/wiki/Shoot_%27em_up&#39;); return false;">shump</a>&nbsp;without multiple weapon types and abilities?</li><li>Change movement into vectors – instead of using static position.x and position.y, try implementing vectors in the game to make movement more uniform for all objects. Here are two&nbsp;<a href="http://blog.wolfire.com/2009/07/linear-algebra-for-game-developers-part-1/" onclick="javascript:window.open(&#39;http://blog.wolfire.com/2009/07/linear-algebra-for-game-developers-part-1/&#39;); return false;">helpful tutorials</a> for <a href="http://blog.wolfire.com/2009/07/linear-algebra-for-game-developers-part-2/" onclick="javascript:window.open(&#39;http://blog.wolfire.com/2009/07/linear-algebra-for-game-developers-part-2/&#39;); return false;">vector math</a>.</li><li>Use libraries – this tutorial was designed to show you how to create a game from scratch without the use of libraries. But why reinvent the wheel? Try using libraries for your games to help you develop faster. <a href="http://www.createjs.com/#!/CreateJS" onclick="javascript:window.open(&#39;http://www.createjs.com/#!/CreateJS&#39;); return false;">Here</a> is one I recommend (it even has a library for sound).</li></ul><h2 id="conclusion" class="sub-title"><a href="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/#conclusion" class="permalink" title="Link to this section">Conclusion</a></h2><p>I hope you enjoyed this <a href="http://blog.sklambert.com/galaxian-html5-game/">5 part tutorial series</a>&nbsp;on creating a game in the HTML5 canvas. It’s gone through a lot of information, from <a href="http://blog.sklambert.com/html5-canvas-game-panning-a-background/#understanding-the-html5-canvas">problems with the HTML5 canvas</a>,&nbsp;to implementing advanced techniques such as <a href="http://blog.sklambert.com/html5-canvas-game-the-player-ship/#the-player-ship">object pools</a>&nbsp;and <a href="http://blog.sklambert.com/html5-canvas-game-2d-collision-detection/#spatial-partitioning">quadtrees for collision detection</a>, to ensuring game assets are loaded by using an <a href="http://blog.sklambert.com/html5-canvas-game-the-player-ship/#the-imagerepository">image repository</a>&nbsp;and an HTML5&nbsp;<a href="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/#adding-audio">audio loader</a>.</p><p>I would love to see the games that are made from these tutorials. If you want to put a link in the comments to a game made using a technique found in these tutorials, please do so that I can look at them. If you have any suggestions or comments please leave them as well. If all goes well, I plan on making another series of tutorials that will cover the CreateJS suite linked to earlier to create another style of game. Thanks for reading!</p><div class="zem_rp_wrap zem_rp_th_vertical_m" id="zem_rp_first"><div class="zem_rp_content"><h3 class="related_post_title">Related Posts</h3><ul class="related_post zem_rp" style="visibility: visible"><li data-position="0" data-poid="in-621" data-post-type="none"><a href="http://blog.sklambert.com/html5-canvas-game-the-player-ship/" class="zem_rp_thumbnail"><img src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/ship_on_bg.png" alt="HTML5 Canvas Game: The Player Ship" width="100" height="100"></a><a href="http://blog.sklambert.com/html5-canvas-game-the-player-ship/" class="zem_rp_title">HTML5 Canvas Game: The Player Ship</a></li><li data-position="1" data-poid="in-688" data-post-type="none"><a href="http://blog.sklambert.com/html5-canvas-game-the-enemy-ships/" class="zem_rp_thumbnail"><img src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/enemies_on_bg.png" alt="HTML5 Canvas Game: The Enemy Ships" width="100" height="100"></a><a href="http://blog.sklambert.com/html5-canvas-game-the-enemy-ships/" class="zem_rp_title">HTML5 Canvas Game: The Enemy Ships</a></li><li data-position="2" data-poid="in-716" data-post-type="none"><a href="http://blog.sklambert.com/html5-canvas-game-2d-collision-detection/" class="zem_rp_thumbnail"><img src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/collision_detection(1).png" alt="HTML5 Canvas Game: 2D Collision Detection" width="100" height="100"></a><a href="http://blog.sklambert.com/html5-canvas-game-2d-collision-detection/" class="zem_rp_title">HTML5 Canvas Game: 2D Collision Detection</a></li><li data-position="3" data-poid="in-450" data-post-type="none"><a href="http://blog.sklambert.com/html5-canvas-game-panning-a-background/" class="zem_rp_thumbnail"><img src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/bg.png" alt="HTML5 Canvas Game: Panning a Background" width="100" height="100"></a><a href="http://blog.sklambert.com/html5-canvas-game-panning-a-background/" class="zem_rp_title">HTML5 Canvas Game: Panning a Background</a></li><li data-position="4" data-poid="in-20" data-post-type="none"><a href="http://blog.sklambert.com/galaxian-html5-game/" class="zem_rp_thumbnail"><img src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/space_shooter.png" alt="Galaxian Style HTML5 Game" width="100" height="100"></a><a href="http://blog.sklambert.com/galaxian-html5-game/" class="zem_rp_title">Galaxian Style HTML5 Game</a></li></ul></div></div><div class="series-next-prev-wrapper bottom"><div class="series-prev"> <a href="http://blog.sklambert.com/html5-canvas-game-2d-collision-detection/" title="HTML5 Canvas Game: 2D Collision Detection" class="series-prev-link">« Previous series post</a></div></div> </article><div class="comments"><a href="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/#disqus_thread" class="show-comments">3 Comments</a></div><div id="disqus_thread"></div> </section><aside class="secondary" role="complementary"><div id="social" class="widget"><ul class="social"><li class="social-listItem"><a href="http://blog.sklambert.com/feed/rss/" id="rss" class="social-link icon-feed" title="Subscribe to my RSS feed"></a></li><li class="social-listItem"><a href="https://twitter.com/StevenKLambert" id="twitter" class="social-link icon-twitter" title="Follow me on Twitter" onclick="javascript:window.open(&#39;https://twitter.com/StevenKLambert&#39;); return false;"></a></li><li class="social-listItem"><a href="https://plus.google.com/u/0/+StevenLambertK/" id="google-plus" class="social-link icon-google-plus" title="Connect with me on Google+" onclick="javascript:window.open(&#39;https://plus.google.com/u/0/+StevenLambertK/&#39;); return false;"></a></li><li class="social-listItem"><a href="https://github.com/straker" id="github" class="social-link icon-github" title="View my GitHub profile" onclick="javascript:window.open(&#39;https://github.com/straker&#39;); return false;"></a></li><li class="social-listItem"><a href="mailto:steven@sklambert.com" id="email" class="social-link icon-mail" title="Send me an email"></a></li></ul></div><section id="blog_subscription-2" class="widget jetpack_subscription_widget section"><h3 class="widget-title"><label for="subscribe-field"></label></h3><form action="" method="post" accept-charset="utf-8" id="subscribe-blog-blog_subscription-2"><p id="subscribe-text"></p><p id="subscribe-email"><input type="text" name="email" value="Email Address" id="subscribe-field" onclick="if ( this.value == &#39;Email Address&#39; ) { this.value = &#39;&#39;; }" onblur="if ( this.value == &#39;&#39; ) { this.value = &#39;Email Address&#39;; }"></p><p id="subscribe-submit"> <input type="hidden" name="action" value="subscribe"> <input type="hidden" name="source" value="http://blog.sklambert.com/html5-canvas-game-html5-audio-and-finishing-touches/"> <input type="hidden" name="sub-type" value="widget"> <input type="hidden" name="redirect_fragment" value="blog_subscription-2"> <input type="submit" value="Subscribe" name="jetpack_subscriptions_widget"></p></form> </section><section id="text-2" class="widget widget_text section"><h3 class="widget-title">About Steven Lambert</h3><div class="textwidget"><img class="about-me-image" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/me.png">I started out my career as a web developer while I was still in college, but I have always had a fasination with making games. When the possibility of making games using HTML5 was introduced, I couldn't help but try my hand at it. Since then, I have made a few games and created this blog to help others understand the current state of the web as it applies to HTML5 game development.</div> </section><style>.JPV_list{overflow:hidden}.JPV_thumbnail{width:45%}.JPV_thumbnail>.JPV_thumbnail_img{max-width:125px;height:auto}.JPV_thumbnail+.JPV_text{width:45%;padding-bottom:10px;text-align:center;margin-top:-5px}.JPV_thumbnail_title{float:left;width:21.276596%}.JPV_thumbnail_title>.JPV_thumbnail_img{max-width:40px;height:auto}.JPV_thumbnail_title+.JPV_text{float:right;width:73.404255%;padding-bottom:10px}</style><section id="jetpack-post-views-widget-2" class="widget jetpack-post-views section"><h3 class="widget-title">Popular Posts</h3><ul><li class="JPV_list"><a href="http://blog.sklambert.com/html5-canvas-game-panning-a-background/" title="HTML5 Canvas Game: Panning a Background" class="JPV_title">HTML5 Canvas Game: Panning a Background</a></li><li class="JPV_list"><a href="http://blog.sklambert.com/html5-canvas-game-2d-collision-detection/" title="HTML5 Canvas Game: 2D Collision Detection" class="JPV_title">HTML5 Canvas Game: 2D Collision Detection</a></li><li class="JPV_list"><a href="http://blog.sklambert.com/html5-canvas-game-the-player-ship/" title="HTML5 Canvas Game: The Player Ship" class="JPV_title">HTML5 Canvas Game: The Player Ship</a></li><li class="JPV_list"><a href="http://blog.sklambert.com/galaxian-html5-game/" title="Galaxian Style HTML5 Game" class="JPV_title">Galaxian Style HTML5 Game</a></li><li class="JPV_list"><a href="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks.html" title="HTML5 Canvas Game: HTML5 Audio and Finishing Touches" class="JPV_title">HTML5 Canvas Game: HTML5 Audio and Finishing Touches</a></li></ul></section> <section id="recent-posts-2" class="widget widget_recent_entries section"><h3 class="widget-title">Recent Posts</h3><ul><li> <a href="http://blog.sklambert.com/html5-game-tutorial-prototypal-inheritance/">HTML5 Game Tutorial: Prototypal Inheritance</a></li><li> <a href="http://blog.sklambert.com/learn-programming-and-game-development/">How to Learn Programming and Game Development</a></li><li> <a href="http://blog.sklambert.com/html5-game-tutorial-module-pattern/">HTML5 Game Tutorial: The Module Pattern</a></li><li> <a href="http://blog.sklambert.com/using-time-based-animation-implement/">Why You Should be Using Time-based Animation and How to Implement it</a></li><li> <a href="http://blog.sklambert.com/made-first-game-two-days/">How I Made My First Game in Two Days</a></li></ul> </section> </aside></main><footer class="site-footer" role="contentinfo"><div class="container"><p class="section">Copyright © Steven Lambert 2012 - 2014</p></div> </footer><script type="text/javascript">var s=document.getElementById('subscribe-field');if(s)s.removeAttribute('style');</script><script type="text/javascript">/*<![CDATA[*/var disqus_shortname='blogsklambertcom';(function(){var nodes=document.getElementsByTagName('span');for(var i=0,url;i<nodes.length;i++){if(nodes[i].className.indexOf('dsq-postid')!=-1){nodes[i].parentNode.setAttribute('data-disqus-identifier',nodes[i].getAttribute('rel'));url=nodes[i].parentNode.href.split('#',1);if(url.length==1)url=url[0];else url=url[1]
nodes[i].parentNode.href=url+'#disqus_thread';}}
var s=document.createElement('script');s.async=true;s.type='text/javascript';s.src='//'+'disqus.com/forums/'+disqus_shortname+'/count.js';(document.getElementsByTagName('HEAD')[0]||document.getElementsByTagName('BODY')[0]).appendChild(s);}());/*]]>*/</script><div style="display:none"></div><script type="text/javascript">jQuery(document).on('ready post-load',function(){jQuery('a.share-twitter').on('click',function(){window.open(jQuery(this).attr('href'),'wpcomtwitter','menubar=1,resizable=1,width=600,height=350');return false;});});</script><script type="text/javascript">(function(){var po=document.createElement('script');po.type='text/javascript';po.async=true;po.src='https://apis.google.com/js/plusone.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(po,s);})();</script><script type="text/javascript">jQuery(document).on('ready post-load',function(){jQuery('a.share-facebook').on('click',function(){window.open(jQuery(this).attr('href'),'wpcomfacebook','menubar=1,resizable=1,width=600,height=400');return false;});});</script><script type="text/javascript" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/M9TPSi0pSEzO1s_NTynNSS3WL8jIL8nPg1IA.js"></script><script type="text/javascript" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/devicepx-jetpack.js"></script><script type="text/javascript" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/M9Avzs5JzE1KLSoJyUjNTdXPKtbPzU_KzEnVMcAilZ6Ym1qMVaagKLM4FwA.js"></script><script type="text/javascript">var recaptcha_options={"lang":"en"};</script><script type="text/javascript" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/M9TPSi0pSEzO1s_NTynNSS3WL85ILEpNSUxJqQQzM_PSAQ.js"></script><script src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/e-201419.js" type="text/javascript"></script><script type="text/javascript">st_go({v:'ext',j:'1:2.9.3',blog:'35860617',post:'882',tz:'-6'});var load_cmc=function(){linktracker_init(35860617,882,2);};if(typeof addLoadEvent!='undefined')addLoadEvent(load_cmc);else load_cmc();</script><img id="wpstats" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/g.gif" alt=""><iframe name="oauth2relay1134101444" id="oauth2relay1134101444" src="./HTML5 Canvas Game  HTML5 Audio and Finishing Touches - Programming Tutorials, Tips, and Tricks_files/postmessageRelay.html" tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe></body></html>